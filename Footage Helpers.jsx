(function (global) {
    // prettier-ignore
    var Tree=function(){function n(n,t,e,u){var o=nn(e)?i:r;return o.apply(null,arguments)}function t(n,t){var r=jn(n.type)?o:e;c(r.apply(null,arguments),O(t))}function r(n,t,r,e){var u=O(t);n=fn(n,r,f(t,r));if(Jn(r)&&C(u,"selection"))return e.selectableElement.push({container:n,itemIndex:u.selection}),delete u.selection,c(n,u);return c(n,O(t))}function e(n,t,r,e){return ln(n,r,f(t,r))}function u(n){W(n,function(n){var t=n.prototype;t.getElementById=R,t.getElementsByName=k,t.getElementsByType=z,G(t,"getElementById"),G(t,"getElementsByName"),G(t,"getElementsByType")})}function o(n,t,r,e){return pn(n,M(t))}function i(n,t,r,e){var u=O(t),o=sn(n,M(t));return u.expanded&&e.nodeItems.push(o),delete u.expanded,c(o,u)}function c(n){var t=Tn.call(arguments,1);return W(t,function(t){Z(t)&&A(t,function(t,r){n[r]=t})}),n}function a(n,t,r){if(r||!t)return Window;if(en(bn))return bn;return en(n)?n:Window}function f(n,t){return s(U(n),t)}function l(n,t){if(I(Kn,t))return t;if(I(Kn,n))return n;return 0}function s(n,t){var r=n[0];if(X(r))return n;var e=P(t),u=n[e];if(Z(u)||(n[e]={}),C(u,"name"))return n;return n[e].name=r,n}function p(n){var t=String(n[0]);return n[0]=I(Vn,t)?t:["palette"],n}function d(n){return L(n,"config")}function v(n){var t=n.properties;return t&&t.name}function g(n){return L(n,"param")}function h(n){var t=L(n,"param");return F(t)?an(t):[]}function y(n){var t=L(n,"style");return Z(t)?t:{}}function b(n,t,r,e){var u=x(n,t);return J(u,e),on(u)&&r&&u.show(),u}function m(n,t,r,e){var u=null;return function(){return q(u)&&(u=x(n,t)),J(u,e),on(u)&&r&&u.show(),u}}function w(n){var t=n?m:b;return t.apply(null,Tn.call(arguments,1))}function x(n,t){var r=Q(n,t),e=new T;return dn(n,r,e),gn(e.selectableElement),K(e.nodeItems),r}function B(n){return F(n)?n:[n]}function E(n){return c({},n)}function I(n,t){for(var r=-1,e=n.length;++r<e;)if(n[r]===t)return!0;return!1}function N(n){return function(t){return n.test(Ln[t])}}function S(n,t,r,e){return hn(n,function(n){var u=[],o=hn(n.children,function(n){return Cn(n.type)&&u.push(n),e(n)&&t.push(n),r(t)});return!!o||S(u,t,r,e)})}function T(){this.nodeItems=[],this.selectableElement=[]}function D(n){return n.replace(Dn,"")}function K(n){W(n,function(n){n.expanded=!0})}function V(n){return yn(cn(Nn.apply([],n),String))}function W(n,t){for(var r=-1,e=n.length;++r<e;)t(n[r],r,n);return n}function A(n,t){for(var r in n)C(n,r)&&t(n[r],r,n)}function G(n,t){n.watch(t,function(n,t){return t})}function L(n,t){return X(n)?void 0:n[t]}function P(n){if(Hn(n))return An[n];if(Mn(n))return Gn[n]}function U(n){return F(n)?an(n):h(n)}function O(n){return F(n)?{}:y(n)}function R(n){function t(n){return n.length>0}n=String(n);var r=[];return S([this],r,t,function(t){var r=v(t);if(X(r))return!1;return n===r}),0===r.length?null:r[0]}function k(){function n(){return targetNames.length===t.length}targetNames=V(arguments);var t=[],r=[];return S([this],r,n,function(n){var r=v(n);if(X(r))return!1;return I(targetNames,r)&&!I(t,r)&&t.push(r)}),0===r.length?null:r}function z(){function n(){return!1}var t=V(arguments),r=[];return S([this],r,n,function(n){return I(t,n.type)}),0===r.length?null:r}function M(n){var t=Z(n)?g(n):n;return String(t)}function j(n,t){return _(t)?t:new Window(n[0],n[1],n[2],n[3])}function C(n,t){return In.call(n,t)}function H(n,t){var r=c(E(Wn),d(n)),e=Boolean(r.show),u=Boolean(r.dockable),o=Boolean(r.singleton),i=a(t.context,u,o),f=l(t.layoutMode,r.layoutMode);return[o,n,i,e,f]}function J(n,t){n.layout.layout(t),n.layout.resize()}function Q(n,t){var r=j(p(h(n)),t);return r.onResizing=r.onResize=function(){this.layout.resize()},c(r,y(n))}function F(n){return"[object Array]"===Sn.call(n)}function q(n){return Y(n)||!n.visible}function X(n){return null==n}function Y(n){return null===n}function Z(n){var t=typeof n;if(X(n))return!1;return"object"==t||"function"==t}function _(n){return n instanceof Panel}function nn(n){return"node"===n}function tn(n){return"tabbedpanel"===n}function rn(n,t){var r=Ln[n]+Ln[t];return Pn.test(r)}function en(n){return n===mn||_(n)}function un(n){return C(Ln,n)}function on(n){return n instanceof Window}function cn(n,t){for(var r=-1,e=n.length,u=Array(e);++r<e;)u[r]=t(n[r],r,n);return u}function an(n){return cn(n,function(n){return Y(n)?void 0:n})}function fn(n,t,r){return n.add(t,r[1],r[2],r[3])}function ln(n,t,r){return n.add(t,r[1],r[2],r[3],r[4],r[5])}function sn(n,t){return n.add("node",t)}function pn(n,t){return n.add("item",t)}function dn(r,e,u){A(r,function(r,o){if(o=D(o).toLowerCase(),un(o)&&rn(e.type,o))if(Mn(o)){var i=n(e,r,o,u);dn(r,i,u)}else t(e,r,o,u)})}function vn(n){if(!Z(n))return null;var t=w.apply(null,H(n,wn));return xn.push(t),t}function gn(n){W(n,function(n){var t=n.container,r=n.itemIndex;t.selection=tn(t.type)?n.itemIndex:cn(B(r),function(n){return t.items[n]})})}function hn(n,t){for(var r=-1,e=n.length;++r<e;)if(t(n[r],r,n))return!0;return!1}function yn(){var n=[],t=Nn.apply([],arguments);return W(t,function(t){I(n,t)||n.push(t)}),n}var bn=this,mn=$.global,wn={version:"alpha 0.0.3"},xn=[],Bn=Array.prototype,En=Object.prototype,In=En.hasOwnProperty,Nn=Bn.concat,Sn=En.toString,Tn=Bn.slice,Dn=/\d/g,Kn=[0,1,2],Vn=["dialog","palette","window"],Wn={dockable:!0,show:!0,singleton:!1},An={button:3,checkbox:3,dropdownlist:3,edittext:3,iconbutton:3,image:3,listbox:3,progressbar:4,radiobutton:3,scrollbar:5,slider:5,statictext:3,treeview:3},Gn={group:2,panel:3,tab:3,tabbedpanel:3},Ln={button:"A",checkbox:"B",dialog:"C",dropdownlist:"D",edittext:"E",group:"G",iconbutton:"H",image:"I",item:"J",listbox:"K",node:"L",palette:"M",panel:"N",progressbar:"O",radiobutton:"P",scrollbar:"Q",slider:"R",statictext:"S",tab:"T",tabbedpanel:"U",treeview:"V",window:"W"},Pn=/[CGMNTW][ABDEFGHIKNOPQRSUV]|[DK]J|[VL][LJ]|UT/,Un=/[DGKLNTUV]/,On=/[DKLV]/,Rn=/[DKUV]/,kn=/[GNTU]/,zn=/[ABDEFHIKOPQRSV]/,Mn=N(Un),jn=N(On),Cn=N(kn),Hn=N(zn),Jn=N(Rn);return u([Window,Panel,Group]),wn.parse=vn,wn}.call(this);
    // prettier-ignore
    var _=function(){function e(){return app.project.showWindow(!0)}function r(e,r,n,t){var o=new MarkerValue(n);t&&(o.duration=t),e.markerProperty.setValueAtTime(r,o)}function n(e,r,n){var t=P(e,r);return rt(n)&&Vo(t,n),t}function t(e){var r=sl();if(!r)return;return r.addFolder(e)}function o(e,r,n,t){var o=new MarkerValue(n);t&&(o.duration=t),e.marker.setValueAtTime(r,o)}function u(e,r){r=X(r);for(var n=0,t=r.length,o=e;o&&n<t;){var u=r[n++],i=o.property(u);i?(o=i):o.canAddProperty(u)&&(o=o.addProperty(u))}return o}function i(e,r){return function(){if(--e<1)return r.apply(this,arguments)}}function a(){for(var e=-1,r=arguments.length;++e<r;)if(!arguments[e])return!1;return!0}function c(e,r){for(var n=-1,t=r.length,o=e.length;++n<t;)e[o+n]=r[n];return e}function f(e){var r=e.length;return r?e[B(0,r-1)]:Ou}function p(e,r){return Yo(se(e),ee(r,0,e.length))}function l(e){return Yo(se(e))}function s(e){for(var r=-1,n=e.length,t=Array(n);++r<n;)t[r]=Au(r,e)||'null';return'['+t.join(',')+']'}function m(e){return(Fa(qu.call(arguments,1),function(r){if(rt(r))for(var n in r)_r(r,n)&&(e[n]=r[n])}),e)}function d(e){return(Fa(qu.call(arguments,1),function(r){if(rt(r))for(var n in r)e[n]=r[n]}),e)}function y(e,r,n){var t=e[r];(Ku.call(e,r)&&He(t,n)&&(n!==Ou||r in e))||(e[r]=n)}function g(e,r){for(var n=-1,t=r.length,o=Array(t),u=null==e;++n<t;)o[n]=u?Ou:Up(e,r[n]);return o}function h(e,r){return r?e.layers.addBoxText(r):e.layers.addBoxText()}function v(e,r,n){return e.layers.addCamera(r,n)}function F(e,r,n,t,o,u){return sl().addComp(e,r,n,t,o,u)}function P(e,r){return e.property('ADBE Effect Parade').addProperty(r)}function D(e,r,n){return n?e.layers.add(r,n):e.layers.add(r)}function S(e,r,n){return e.layers.addLight(r,n)}function x(e,r){return r?e.layers.addNull(r):e.layers.addNull()}function L(e){return e.layers.addShape()}function A(e,r,n,t,o,u,i){return i?e.layers.addSolid(r,n,t,o,u,i):e.layers.addSolid(r,n,t,o,u)}function C(e,r){return Xn(r)?e.layers.addText():e.layers.addText(r)}function E(e,r,n,t,o){var u=-1,i=e.length;for(n||(n=Bn),o||(o=[]);++u<i;){var a=e[u];r>0&&n(a)?(r>1?E(a,r-1,n,t,o):c(o,a)):t||(o[o.length]=a)}return o}function I(e,r){return Ua(r,function(r){return Gn(e[r])})}function b(){return new Date().getTime()}function j(e){return function(r){return null==r?Ou:r[e]}}function k(e){return function(r){return Up(r,e)}}function T(e){return function(r){return null==e?Ou:e[r]}}function B(e,r){return e+Yu(Xu()*(r-e+1))}function R(e,r,n,t){null==r&&((r=e||0),(e=0)),n||(n=r<e?-1:1);for(var o=-1,u=Wu(zu((r-e)/n),0),i=Array(u);u--;)(i[t?u:++o]=e),(e+=n);return i}function O(e){return f(Cu(e))}function M(e,r){var n=Cu(e);return Yo(n,ee(r,0,n.length))}function w(e,r,n,t){if(!rt(e))return e;r=X(r,e);for(var o=-1,u=r.length,i=u-1,a=e;null!=a&&++o<u;){var c=r[o],f=n;if(o!=i){var p=a[c];(f=t?t(p,c,a):Ou),f===Ou&&(f=rt(p)?p:Kn(r[o+1])?[]:{})}y(a,c,f),(a=a[c])}return e}function G(e){return Yo(Cu(e))}function V(e,r){return hc(r,function(r){return[r,e[r]]})}function N(e){if('string'==typeof e)return e;if(Fn(e))return String(e);var r=e+'';return'0'==r&&1/e==-Gu?'-0':r}function K(e,r){return(r=X(r,e)),(e=Yt(e,r)),null==e||delete e[lu(Ll(r))]}function U(e){return e.valueOf()}function _(e,r){return hc(r,function(r){return e[r]})}function Q(e,r,n){for(var t=-1,o=e.length,u=r.length,i={};++t<o;){var a=t<u?r[t]:Ou;n(i,e[t],a)}return i}function q(e,r){var n;return function(){return--e>0&&(n=r.apply(this,arguments)),e<=1&&(r=Ou),n}}function z(e,r){return Yp(e).canAddProperty(r)}function Y(e){return e.canSetExpression}function W(){if(!arguments.length)return[];var e=arguments[0];return Fn(e)?e:[e]}function J(e){return $i(e)}function X(e,r){if(Fn(e))return e;return Qn(e,r)?[e]:eu(du(e))}function Z(e){return e.charCodeAt(0).toString(16)}function H(e,r){if(null==r||r<1)return[];for(var n=0,t=0,o=e.length,u=Array(zu(o/r));n<o;)u[t++]=Jo(e,n,(n+=r));return u}function ee(e,r,n){return e==e&&(n!==Ou&&(e=e<=n?e:n),r!==Ou&&(e=e>=r?e:r)),e}function re(){ei={}}function ne(e){if(!nt(e))return e;return Fn(e)?e.slice():m({},e)}function te(e,r){var n={source:e,replaceSource:wt,duplicate:function(){return this},};return oe(n,r),e}function oe(e,r){if(!Ln(e))return;var n=e.duplicate();r=m(new wi(),r);var t=0,o={},u={},i={},a={},c={},f=function(e,n){var u=n.id,i=_r(a,u)?a[u]:(a[u]=n.duplicate());e.replaceSource(i,!1);var c=n.name;r.itemCallback(n,i);var f=i.name;if(f!==c){var p=fu('comp("${0}")',c),l=fu('comp("${0}")',f);o[p]=l}return t++<r.cloneDepth&&i},p=function(e,n,t,o){var a=t.id;r.syncExpression&&_c(e,function(e){At(e,a)});var f=e.name,p=e.source;if((Et(e,function(e){r.layerCallback(e,n,t)}),Mn(p)&&r.clonePredicate(e))){var l=p.id,s=_r(c,l)?c[l]:(c[l]=ze(p));e.replaceSource(s,!1),r.itemCallback(p,s)}var m=e.name,d=o.name,y=t.name,g=m!==f,h=y!==d;if(g){var v=fu('thisComp.layer("${0}")',f),F=fu('thisComp.layer("${0}")',m);u[a+':'+v]=F}if(h||g){(v=fu('comp("${0}").layer("${1}")',d,f)),(F=fu('comp("${0}").layer("${1}")',y,m));i[v]=F}};return(bo(n,f,p),r.syncExpression&&(r.syncCompExpression&&Dr(o,function(e,r){yu('comp',r,e)}),r.syncLayerExpression&&Dr(u,function(e,r){yu('layer',r,e)}),r.syncCompLayerExpression&&Dr(i,function(e,r){yu('compLayer',r,e)})),re(),n)}function ue(e){var r=Fn(e)?[]:{};if(nt(e)){var n=Fn(e)?Fa:Dr;n(e,function(e,n,t){_r(t,n)&&(r[n]=nt(e)?ue(e):e)})}return r}function ie(e,r){var n=Vp(e,On),o=n[0],u=n[1],i=Wf(u,r),a=[];return(Dr(i,function(r,n){var o=t(n);(o.parentFolder=e),a.push(o),Fa(r,function(e){e.parentFolder=o})}),Ta(o,Do),a)}function ae(e,r,n){var t=ll();if(Zn(t))return;var o=Ha(e,Wn);if(Cn(o))return;var u=Wf(o,zp),i=kt(u,function(e,r){return ar(r)});(n=jr(n||Re(t,'_Footage'))),n.exists||n.create();var a=Tr(n),c=[],f={},p=Wo(i);return(Fa(W(r),function(e){Bc(e,function(e){if(c.length===p)return!1;var r=ca(e);_r(i,r)&&!_r(f,r)&&(c.push(e),(f[r]=e))})}),Fa(c,function(e){me(e,Re(a,ca(e)))}),c)}function ce(e){return Ua(e,tn)}function fe(){var e=arguments,r=e.length-1;return function(){for(var n=r,t=e[r].apply(this,arguments);n--;)t=e[n].call(this,t);return t}}function pe(e){return function(){return e}}function le(e,r){for(var n=-1,t=e.length;++n<t;)if(e[n]===r)return!0;return!1}function se(e,r){var n=-1,t=e.length;for(r||(r=Array(t));++n<t;)r[n]=e[n];return r}function me(e,r){if(((e=br(e)),!e.exists))return!1;if(((r=br(r)),e.fullName===r.fullName))return!1;return e.copy(r)}function de(e,r,n){return function(t){var o=Ht(t,r),u=or(n,function(e){return _r(o,e)&&!Xn(o[e])});if(!u)return;var i=eo(t,function(e,r){return le(Oi,r)});le(r,'name')&&delete i.name;var a=e.apply(null,Cu(o));return m(a,i)}}function ye(e,r,n){return function(t,o){var u=Ht(o,r),i=or(n,function(e){return _r(u,e)&&!Xn(u[e])});if(!i)return;var a=eo(o,function(e,r){return le(Ri,r)});le(r,'name')&&delete a.name;var c=e.apply(null,[t].concat(Cu(u)));return m(c,a)}}function ge(e){return function(r,n){return r[e](n)}}function he(e,r,n,t){return function(o,u){for(var i=r(o),a=e-1,c=n(i)+e;++a<c&&!1!==u(t(i,a),a,o););return o}}function ve(e,r,n){return function(t,o){var u=0;return((function t(i,a){++a,e(i,function(e,i,c){if(r(e)&&!1===o(e,i,u++,a,c))return!1;n(e)&&t(e,a)})})(t,0),t)}}function Fe(e){return function(r,n){var t=0,o=!0;return(kr(r,function(u){o&&e(u)&&!1===n(u,t++,r)&&(o=!1)}),r)}}function Pe(e,r,n,t){return function(o,u){for(var i=r(o),a=n(i)+e;e<a--&&!1!==u(t(i,a),a,i););return o}}function De(e){return function(r,n){var t=[],o=0;return(e(r,function(e){n.apply(null,arguments)&&(t[o++]=e)}),t)}}function Se(e){return function(r,n){var t;return(e(r,function(e){if(n.apply(null,arguments))return(t=e),!1}),t)}}function xe(e){return function(){return Up(app,e)}}function Le(e){return function(r){var n=e(r);return null!=n&&n.length?n[0]:Ou}}function Ae(e){return function(r){return Up(r,e)}}function Ce(e){return function(r){var n=e(r);return n&&n[n.length-1]}}function Ee(e){return function(r){return _p(r,e)}}function Ie(e){return function(r,n){n=X(n,r);for(var t=0,o=n.length;null!=r&&t<o;)r=e(r,lu(n[t++]));return t&&t==o?r:Ou}}function be(e){return function(r,n){var t={};return(e(r,function(e,r,o){var u=n(e,r,o);_r(t,u)?t[u].push(e):(t[u]=[e])}),t)}}function je(e){return function(r){return Qp(r)===e}}function ke(e){return function(r,n){var t=[],o=0;return(e(r,function(){t[o++]=n.apply(null,arguments)}),t)}}function Te(e){return function(r,n){n=Xn(n)?0:n;var t=(r+'e').split('e'),o=e(t[0]+'e'+(+t[1]+n));return(t=(o+'e').split('e')),+(t[0]+'e'+(+t[1]-n))}}function Be(e){return function(r,n){var t=[],o=[];return(e(r,function(e,r,u){u=n(e,r,u)?t:o;u.push(e)}),[t,o])}}function Re(){return Dt(arguments,'/')}function Oe(e){return function(r,n){return e(r,ao(n))}}function Me(e){return function r(){var n=qu.call(arguments);if(n.length>=e.length)return e.apply(null,n);return function(){return r.apply(null,n.concat(qu.call(arguments)))}}}function we(e){return isFinite(U(e))?e.toString():null}function Ge(e){var r=e.replace(/\n/g,'').replace(/"([^"]+)"/g,function(e,r){return hc(r.split(''),Z).join('')}),n=r.match(/([\W\w]{4})/g);return hc(n,nn)}function $e(e,r){return null==e||e!=e?r:e}function Ve(e){return(Fa(qu.call(arguments,1),function(r){if(rt(r))for(var n in r)e[n]===Ou&&(e[n]=r[n])}),e)}function Ne(e,r){var n=qu.call(arguments,2);return app.setTimeout(function(){e.apply(Ou,n)},r)}function Ke(e){if(((e=br(e)),!e.exists))return!0;return e.remove()}function Ue(e){if(((e=jr(e)),!e.exists))return!0;return e.remove()}function _e(){Fa(yl(),Qe)}function Qe(e){e.selected=!1}function qe(e){var r=hr(qu.call(arguments,1));return Ua(e,function(e){return!le(r,e)})}function ze(e){return St(),ur(ri),(e.selected=!0),ur(ni),Sl()}function Ye(e,r){var n={source:e};Tc(n,r)}function We(e,r){var n={source:e};Je(n,r)}function Je(e,r){function n(e){if(!xn(e))return!1;var r=e.id;return!le(o,r)&&(o.push(r),!0)}var t=0,o=[];(function e(o,u){++u,Sa(o,function(o,i,a){if(!1===r(o,i,t++,u,a))return!1;n(o.source)&&e(o,u)})})(e,0)}function Xe(e,r){return ja(e.effect,r)}function Ze(e,r){var n=0;return(ba(e,function(e){xn(e)&&Da(e,function(e,t,o){if(!1===r(e,n++,o))return!1})}),e)}function He(e,r){return e===r||(e!=e&&r!=r)}function er(e){return(e=du(e)),e&&xi.test(e)?e.replace(Di,ci):e}function rr(e){return(e=du(e)),e&&Fi.test(e)?e.replace(vi,'\\$&'):e}function nr(e){return e.replace(pi,'')}function tr(e){return $.evalFile(e.alias?e.resolve():e)}function or(e,r){for(var n=-1,t=e.length;++n<t;)if(!r(e[n],n,e))return!1;return!0}function ur(e){return app.executeCommand(e)}function ir(e){if(((e=br(e)),!e.exists))return!1;return e.execute()}function ar(e){var r='';return(e.replace(di,function(e){r=e}),r)}function cr(e){var r='';return(e.replace(pi,function(e,n){r=n}),r)}function fr(e){var r;return(e.replace(yi,function(e,n){r=n}),r)}function pr(e){var r=mo(e,'BINARY');return r.toSource().replace(Li,'')}function lr(e,r){for(var n=-1,t=e.length;++n<t;)if(r(e[n],n,e))return n;return-1}function sr(e,r){var n;return(Dr(e,function(e,t,o){if(r(e,t,o))return(n=t),!1}),n)}function mr(e){return app.findMenuCommandId(e)}function dr(e,r){return E(hc(e,r),1)}function yr(e,r){return E(hc(e,r),Gu)}function gr(e,r,n){return(n=n===Ou?1:parseInt(n)),E(hc(e,r),n)}function hr(e){var r=null==e?0:e.length;return r?E(e,1):[]}function vr(e){var r=null==e?0:e.length;return r?E(e,Gu):[]}function Fr(e,r){var n=null==e?0:e.length;if(!n)return[];return(r=r===Ou?1:parseInt(r)),E(e,r)}function Pr(e,r){for(var n in e)if(!1===r(e[n],n,e))return}function Dr(e,r){for(var n in e)if(_r(e,n)&&!1===r(e[n],n,e))return}function Sr(e){var r=e.toSource(),n=r.length>200?'[...]':r;return fu('>(${0})',e.length)+n+'\n'+hc(e,xr).join('\n')}function xr(e,r){return fu('${0}: ${1}',r,String(e))}function Lr(e){for(var r=-1,n=null==e?0:e.length,t={};++r<n;){var o=e[r];t[o[0]]=o[1]}return t}function Ar(e){return null==e?[]:I(e,xt(e))}function Cr(e){return null==e?[]:I(e,Lt(e))}function Er(){var e=al();if(Zn(e))return null;return xn(e)?e:null}function Ir(){var e=hl();if(Cn(e))return null;var r=Ua(e,Y);return hc(r,function(e){return Bu(['property','indexes'],[e,ha(e)])})}function br(e){return kn(e)?e:Ot(e)}function jr(e){return Rn(e)?e:Mt(e)}function kr(e,r){if(((e=jr(e)),!e.exists))return[];return e.getFiles(r)}function Tr(e){return e.toString()}function Br(e){return Mi[e||'en_US']}function Rr(e){var r=e.numLayers;return r&&e.layers[r]}function Or(e){var r=['Adjustment','Comp','Text','Solid','Light','Camera','Null','Shape','Footage'],n=[gn,Ln,Tl,st,jl,bl,Hn,kl,Il],t=lr(n,function(r){return r(e)});return t<0?'Unknown':r[t]}function Mr(e){return nr(ca(e))}function wr(e){return e instanceof Date?we(e):U(e)}function Gr(e){var r=e.propertyDepth;return e.propertyGroup(r)}function $r(e){for(var r=[],n=e,t=e.propertyDepth;t>0;)(r[t-1]=n),(n=n.parentProperty),(t=n.propertyDepth);return r}function Vr(e,r){var n=[],t=e,o=e.propertyDepth;for(r=dt(r)?r:'matchName';o>0;)(n[o-1]=t[r]),(t=t.parentProperty),(o=t.propertyDepth);return n}function Nr(e){return hc(ha(e),function(r){return e.keyValue(r)})}function Kr(e){return e.numLayers&&e.layers[1]}function Ur(e,r){return e[r]}function _r(e,r){return Ku.call(e,r)}function Qr(e){return!!lf(e,Gc)}function qr(e){return!!tc(cl(),function(r){return r.matchName===e})}function zr(e){return!!lf(e,$c)}function Yr(e){return!!lf(e,au)}function Wr(e){return''!==e.expression}function Jr(e,r){return null!=e&&r in Object(e)}function Xr(e){return ma(e)>0}function Zr(e){return!!lf(e,Nc)}function Hr(e){return e.hasMax}function en(e){return e.hasMin}function rn(e){return e.propertyType==PropertyType.PROPERTY&&e.propertyValueType!==PropertyValueType.NO_VALUE&&e.propertyValueType!==PropertyValueType.CUSTOM_VALUE}function nn(e){return parseInt(e,16)}function tn(e){return e}function on(e,r){return fn(e,ImportAsType.COMP,r)}function un(e,r){return fn(e,ImportAsType.COMP_CROPPED_LAYERS,r)}function an(e,r){return fn(e,ImportAsType.FOOTAGE,r)}function cn(e){return fn(e,ImportAsType.PROJECT)}function fn(e,r,n){e=br(e);var t=new ImportOptions(e);if(!t.canImportAs(r))return;return(t.importAs=r),(t.sequence=!!n),app.project.importFile(t)}function pn(e,r,n){return e>=Ju(r,n)&&e<Wu(r,n)}function ln(e,r,n){var t=null==e?0:e.length;n='number'==typeof n?(n<0?Wu(t+n,0):n):0;for(var o=(n||0)-1,u=r==r;++o<t;){var i=e[o];if(u?i===r:i!=i)return o}return-1}function sn(e){var r=null==e?0:e.length;return r?Jo(e,0,-1):[]}function mn(e){for(var r=-1,n=e.length,t=arguments.length,o=[];++r<n;){var u=e[r];if(le(o,u))continue;for(var i=0;++i<t&&le(arguments[i],u););i===t&&o.push(u)}return o}function dn(e){for(var r={},n=xt(e),t=-1,o=n.length;++t<o;){var u=n[t],i=e[u];r[i]=u}return r}function yn(e,r){var n=qu.call(arguments,2);(r=X(r,e)),(e=Yt(e,r));var t=null==e?e:e[lu(Ll(r))];return null==t?Ou:t.apply(e,n)}function gn(e){return e.adjustmentLayer}function hn(e){return e instanceof Application}function vn(e){return nt(e)&&'[object Arguments]'==Vt(e)}function Fn(e){return'[object Array]'===Vt(e)}function Pn(e){return null!=e&&qn(e.length)&&!Gn(e)}function Dn(e){return nt(e)&&Pn(e)}function Sn(e){return!0===e||!1===e||(nt(e)&&'[object Boolean]'==Vt(e))}function xn(e){return e instanceof CompItem}function Ln(e){return _r(e,'source')&&xn(e.source)}function An(e){return nt(e)&&'[object Date]'==Vt(e)}function Cn(e){if(Xn(e))return!0;for(var r in e)if(_r(e,r))return!1;return!0}function En(e){return e.environmentLayer}function In(e){return''!==e.expressionError}function bn(e){return 0==(1&e)}function jn(e){return e.expressionEnabled}function kn(e){return e instanceof File}function Tn(e){return e.exists}function Bn(e){return Fn(e)||vn(e)}function Rn(e){return e instanceof Folder}function On(e){return e instanceof FolderItem}function Mn(e){return e instanceof FootageItem}function wn(e){return Mn(e.source)}function Gn(e){if(!rt(e))return!1;return'function'==typeof e}function $n(e){return e.guideLayer}function Vn(e){return Mn(e)&&kn(e.file)}function Nn(e){return Vn(e.source)}function Kn(e,r){var n=typeof e;return(r=null==r?$u:r),!!r&&'number'==n&&e>-1&&e%1==0&&e<r}function Un(e){return xn(e)||Mn(e)||On(e)}function _n(e){return!pt(e)&&e.numProperties>0}function Qn(e,r){if(Fn(e))return!1;var n=typeof e;if('number'==n||'boolean'==n||null==e)return!0;return Ci.test(e)||!Ai.test(e)||(null!=r&&e in Object(r))}function qn(e){return'number'==typeof e&&e>-1&&e%1==0&&e<=$u}function zn(){return!Ft()}function Yn(e){return e instanceof MaskPropertyGroup}function Wn(e){return mt(e)&&_r(e.mainSource,'missingFootagePath')}function Jn(e){return et(e)&&e!=+e}function Xn(e){return null==e}function Zn(e){return null===e}function Hn(e){return e.nullLayer}function et(e){return'number'==typeof e||(nt(e)&&'[object Number]'==Vt(e))}function rt(e){var r=typeof e;return a(null!=e,'object'==r||'function'==r)}function nt(e){return null!=e&&'object'==typeof e}function tt(e){return mt(e)&&!_r(e.mainSource,'missingFootagePath')}function ot(e){return tt(e.source)}function ut(e){if(e===Ou||null===e)return!1;if('[object Object]'!==Vt(e))return!1;if(e.constructor&&!e.constructor.prototype.hasOwnProperty('isPrototypeOf'))return!1;return!0}function it(e){return e instanceof Property}function at(e){return e instanceof PropertyGroup}function ct(e){return nt(e)&&'[object RegExp]'==Vt(e)}function ft(e){return li.test(ca(e))}function pt(e){return e.propertyType===PropertyType.PROPERTY}function lt(e){return e.mainSource instanceof SolidSource}function st(e){return a(!Hn(e),qp(e)instanceof SolidSource)}function mt(e){return!0===e.footageMissing&&_r(e,'mainSource')}function dt(e){return'string'==typeof e}function yt(e){return e.threeDLayer}function gt(e){return e.timeRemapEnabled}function ht(e){return e===Ou}function vt(e){return''===e.expressionError}function Ft(){return/Windows/.test($.os)}function Pt(e){return e instanceof XML}function Dt(e,r){return Xn(e)?'':_u.call(e,r)}function St(){e();var r=Er();r&&(r.openInViewer(),ur(ti))}function xt(e){var r=[];if(null!=e)for(var n in e)_r(e,n)&&r.push(n);return r}function Lt(e){var r=[];if(null!=e)for(var n in e)r.push(n);return r}function At(e,r){var n=e.expression;n.replace(bi,function(r,n){var t=fu('comp("${0}")',n);Ct('comp',t,function(n){e.expression=e.expression.replace(r,n)})}),n.replace(Ii,function(n,t){var o=r+':'+fu('thisComp.layer("${0}")',t);Ct('layer',o,function(r){e.expression=e.expression.replace(n,r)})}),n.replace(ji,function(r,n,t){var o=fu('comp("${0}").layer("${1}")',n,t);Ct('compLayer',o,function(n){e.expression=e.expression.replace(r,n)})})}function Ct(e,r,n){ei[e]||(ei[e]={});var t=ei[e];t[r]||(t[r]=[]),t[r].push(n)}function Et(e,r){if(!e.locked)return r(e);(e.locked=!1),r(e),(e.locked=!0)}function It(e,r){var n=!r&&Fn(e)?Sr(e):String(e),t=Re(zi,'soil_log.txt');return bu(t,n+'\n',Ou,'a'),n}function bt(e){ju(Re(zi,'soil_log.json'),e)}function jt(e,r){var n=b(),t=e(),o=b(),u=o-n;return(r=String(r).toLowerCase()),(r=_r(Bi,r)?r:'ms'),It(u/Bi[r]+' '+r),t}function kt(e,r){var n={};return(Dr(e,function(e,t,o){n[r(e,t,o)]=e}),n)}function Tt(e,r){var n={};return(Dr(e,function(e,t,o){n[t]=r(e,t,o)}),n)}function Bt(e,r){if(((e=br(e)),!e.exists))return!1;return e.rename(r)}function Rt(e){return function(){return!e.apply(this,arguments)}}function Ot(e){return new File(J(e))}function Mt(e){return new Folder(J(e))}function wt(){}function Gt(e){var r=[];for(var n in e)if(_r(e,n)){var t=Au(n,e);t&&r.push(fo(n)+':'+t)}return'{'+r.join(',')+'}'}function $t(e){return Fn(e)?s(e):Gt(e)}function Vt(e){return Qu.call(e)}function Nt(e,r){var n;return(Gn(r)?(r=Rt(r)):((n=hc(Uu.apply([],qu.call(arguments,1)),String)),(r=function(e,r){return!le(n,r)})),eo(e,r))}function Kt(e){return q(2,e)}function Ut(){for(var e=-1,r=arguments.length;++e<r;)if(arguments[e])return!0;return!1}function _t(e){return function(){var r=arguments;return hc(e,function(e){return e.apply(null,r)})}}function Qt(e){return function(){var r=qu.call(arguments);return or(e,function(e){return e.apply(null,r)})}}function qt(e){return function(){var r=qu.call(arguments);return Xo(e,function(e){return e.apply(null,r)})}}function zt(e,r){var n=String(Number(e));if(n.length>=r)return n;return(Array(r).join(0)+n).slice(-r)}function Yt(e,r){return r.length<2?e:Up(e,Jo(r,0,-1))}function Wt(e){return''===e?{}:Function('return ('+e+')')()}function Jt(e){var r=mo(e);return Wt(r)}function Xt(e){var r=Ho(mo(e)),n=Zt(r),t=hc(n[0],fr),o=hc(hc(n[1],Zo),function(e){var r=Zt(e),n=hc(r[0],fr);e=hc(r[1],gu);return Bu(n,e)});return Bu(t,o)}function Zt(e){return(e.shift(),Fp(e,function(e,r){return bn(r)}))}function Ht(e,r){var n={};return(Fa(r,function(r){_r(e,r)&&(n[r]=e[r])}),n)}function eo(e,r){var n={};return(Fa(xt(e),function(t){var o=e[t];r(o,t,e)&&(n[t]=o)}),n)}function ro(e,r,n,t){return e.layers.precompose(r,n,t||!0)}function no(e,r,n){if(Cn(e))return[];var t=aa(Pl(e));return hc(e,function(e,o,u){var i=Gn(n)?n(e,o,u):e.name;return ro(t,W(e.index),i,r)})}function to(e,r){var n=gl();if(Cn(n))return;return uo(n,e,r)}function oo(e,r){var n=gl();if(Cn(n))return;return no(n,e,r)}function uo(e,r,n){var t=aa(Pl(e)),o=hc(e,fa);return ro(t,o,r,n)}function io(e){$.writeln(e)}function ao(e){return Qn(e)?j(lu(e)):k(e)}function co(e){return function(r){return null==e?Ou:Up(e,r)}}function fo(e){return Ti.test(e)?'"'+ru(e)+'"':'"'+e+'"'}function po(e,r){return e+Yu(Xu()*(r-e+1))}function lo(e,r,n){return R(e,r,n,!1)}function so(e,r,n){return R(e,r,n,!0)}function mo(e,r){if(((e=br(e)),!e.exists))return'';(e.encoding=r||'utf-8'),e.open('r');var n=e.read();return e.close(),n}function yo(e,r,n){var t=arguments.length<3;return(Fa(e,function(e,o,u){n=t?((t=!1),e):r(n,e,o,u)}),n)}function go(e){Na(Yp(e),Lo)}function ho(e){_c(e,Po)}function vo(e){Ga(e,function(e,r,n){n.removeKey(r)})}function Fo(){var e=Ir();if(Cn(e))return;Fa(e,function(e){So(e.property,e.indexes)})}function Po(e){return(e.expression='')}function Do(e){return e.remove()}function So(e,r){Ta(r,function(r){e.removeKey(r)})}function xo(e){Uc(e,vo)}function Lo(e){return e.remove()}function Ao(e){Ta(e.selectedKeys,function(r){e.removeKey(r)})}function Co(e,r){var n='';if(!e||r<1||r>$u)return n;do{r%2&&(n+=e),(r=Yu(r/2)),r&&(e+=e)}while(r);return n}function Eo(e,r){e.expression=e.expression.replace(bi,function(e,n){return e.split(n).join(r(n,e))})}function Io(e,r){e.expression=e.expression.replace(Ii,function(e,n){return e.split(n).join(r(n,e))})}function bo(e,r,n){var t=e.source,o=r(e,t);if(!1===o)return;Da(o,function(e,o,u){n(e,o,u,t),Ln(e)&&bo(e,r,n)})}function jo(e){if(((e=br(e)),!e.exists))return!1;var r=jr(e.path);return r.execute()}function ko(e){return(e=jr(e)),!!e.exists&&e.execute()}function To(){return ur(parseFloat(app.version)>16?3131:2359)}function Bo(e){var r=Fn(e)?f:O;return r(e)}function Ro(e,r){null==r&&(r=1);var n=Fn(e)?p:M;return n(e,r)}function Oo(e,r,n){return(e=br(e)),(n=n||r.time),r.saveFrameToPng(n,e,0)}function Mo(e,r,n){n=String(n||e.name);var t=jr(r);if(!a(xn(e),Rn(t),Tn(t)))return;var o=Tr(t),u=e.frameRate,i=wo(e.workAreaStart,u),c=wo(e.workAreaDuration,u),f=String(c).length,p=e.frameDuration,l=pu(c,function(e){var r=zt(i+e,f);return Ot(Re(o,fu('${0}_${1}.png',n,r)))});Fa(l,function(r,n){Oo(r,e,n*p)})}function wo(e,r){return Yu(e*r)}function Go(e,r,n){return null==e?e:w(e,r,n)}function $o(e,r,n){e=u(e,r);e&&e.canSetExpression&&(e.expression=n)}function Vo(e,r){Dr(r,function(r,n){e.property(n).setValue(r)})}function No(e,r,n){var t=u(e,r);return t&&t.setValue(n),t}function Ko(e){return!!Hr(e)&&(e.setValue(e.maxValue),!0)}function Uo(e){return!!en(e)&&(e.setValue(e.minValue),!0)}function _o(e,r){app.beginUndoGroup(e),r(),app.endUndoGroup()}function Qo(e){var r=Fl();r&&(r.zoom=e)}function qo(e,r,n,t){return null==e?e:w(e,r,n,t)}function zo(e){var r=Fn(e)?l:G;return r(e)}function Yo(e,r){var n=-1,t=e.length,o=t-1;for(r=r===Ou?t:r;++n<r;){var u=B(n,o),i=e[u];(e[u]=e[n]),(e[n]=i)}return(e.length=r),e}function Wo(e){if(null==e)return 0;return(e=Pn(e)?e:xt(e)),e.length}function Jo(e,r,n){var t=-1,o=e.length;r<0&&(r=-r>o?0:o+r),(n=n>o?o:n),n<0&&(n+=o),(o=r>n?0:(n-r)>>>0),(r>>>=0);for(var u=Array(o);++t<o;)u[t]=e[t+r];return u}function Xo(e,r){for(var n=-1,t=e.length;++n<t;)if(r(e[n],n,e))return!0;return!1}function Zo(e){return e.split(gi)}function Ho(e){return e.split(hi)}function eu(e){var r=[];return(46===e.charCodeAt(0)&&r.push(''),e.replace(Ei,function(e,n,t,o){r.push(t?o.replace(fi,'$1'):n||e)}),r)}function ru(e){return e.replace(ki,function(e){var r=ii[e];return dt(r)?r:'\\u'+('0000'+e.charCodeAt(0).toString(16)).slice(-4)})}function nu(e){return Au('',{'':e})}function tu(){return[]}function ou(){return!1}function uu(){return{}}function iu(){return''}function au(){return!0}function cu(e,r){return e-r}function fu(e){var r=qu.call(arguments,1);return e.replace(mi,function(e){return r[e.match(si)[0]]})}function pu(e,r){for(var n=-1,t=Array(e);++n<e;)t[n]=r(n);return t}function lu(e){if('string'==typeof e)return e;var r=e+'';return'0'==r&&1/e==-Gu?'-0':r}function su(e){return V(e,xt(e))}function mu(e){return V(e,Lt(e))}function du(e){return null==e?'':N(e)}function yu(e,r){var n=ei[e],t=n&&n[r];if(!t||0===t.length)return!1;for(var o,u=0;(o=t[u++]);)o.apply(this,qu.call(arguments,2))}function gu(e){return e.replace(/^\t+/gm,'').replace(/^"/gm,'').replace(/\\$/gm,'').replace(/"$/gm,'').replace(/\n/g,'')}function hu(e){return function(r){return e(r)}}function vu(e,r){return function(){return _o(e,r)}}function Fu(e){return(e=du(e)),e&&Si.test(e)?e.replace(Pi,ai):e}function Pu(){return Du(hr(arguments))}function Du(){var e=[],r=Uu.apply([],arguments);return(Fa(r,function(r){le(e,r)||e.push(r)}),e)}function Su(e){var r=++Hu;return du(e)+r}function xu(e,r){return null==e||K(e,r)}function Lu(e){var r=0;return((e=Ua(e,function(e){return(r=Wu(e.length,r)),!0})),pu(r,function(r){return hc(e,j(r))}))}function Au(e,r){var n=r[e];switch((null!=n&&(n=wr(n)),typeof n)){case'string':return fo(n);case'number':return isFinite(n)?String(n):'null';case'boolean':case'null':return String(n);case'object':return $t(n)}}function Cu(e){return null==e?[]:_(e,xt(e))}function Eu(e){return null==e?[]:_(e,Lt(e))}function Iu(e){return qe(e,qu.call(arguments,1))}function bu(e,r,n,t){(t=t||'w'),(e=br(e)),(e.encoding=n||'utf-8');var o=Mt(e.path);return o.exists||o.create(),e.open(t)&&e.write(r)&&e.close()&&e}function ju(e,r){return bu(e,nu(r)+'\n')}function ku(){var e=qu.call(arguments),r=e.length;if(r<2)return r?Du(e[0]):[];for(var n=-1,t=Array(r);++n<r;)for(var o=e[n],u=-1;++u<r;)u!=n&&(t[n]=qe(t[n]||o,e[u]));return Du(E(t,1))}function Tu(){for(var e=-1,r=Wu.apply(null,Af(arguments,'length').concat(0)),n=new Array(r);++e<r;)n[e]=Af(arguments,''+e);return n}function Bu(e,r){return Q(e||[],r||[],y)}function Ru(e,r){return Q(e||[],r||[],w)}var Ou,Mu={},wu='alpha 0.0.5',Gu=1/0,$u=9007199254740991,Vu=Array.prototype,Nu=Object.prototype,Ku=Nu.hasOwnProperty,Uu=Vu.concat,_u=Vu.join,Qu=Nu.toString,qu=Vu.slice,zu=Math.ceil,Yu=Math.floor,Wu=Math.max,Ju=Math.min,Xu=Math.random,Zu=Math.round,Hu=0,ei={},ri=2004,ni=2080,ti=3696,oi={'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'},ui={'&amp;':'&','&lt;':'<','&gt;':'>','&quot;':'"','&#39;':"'"},ii={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'},ai=T(ui),ci=T(oi),fi=/\\(\\)?/g,pi=/\.([^\.]+)$/,li=/\.jsx(bin)?$/,si=/\d+/,mi=/\$\{\d+\}/g,di=/[^\\\/]+$/,yi=/"([^"]+?)"/,gi=/^\s*?"([^"]*?)"\s*?=\s*?\s*/gm,hi=/^\["([^\]]+)"\][^"]/gm,vi=/[\\^$.*+?()[\]{}|]/g,Fi=RegExp(vi.source),Pi=/&(?:amp|lt|gt|quot|#39);/g,Di=/[&<>"']/g,Si=RegExp(Pi.source),xi=RegExp(Di.source),Li=/(^\(new String\("|"\)\)$)/g,Ai=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ci=/^\w*$/,Ei=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ii=/thisComp\s*?\.\s*?layer\s*?\(\s*?['"]([^\)]+?)['"]\s*?\)/g,bi=/comp\s*?\(\s*?['"]([^\)]+?)['"]\s*?\)(?!\s*\.\s*layer)/g,ji=/comp\s*?\(\s*?['"]([^\)]+?)['"]\s*?\)\s*?.\s*?layer\s*?\(\s*?['"]([^\)]+?)['"]\s*?\)/g,ki=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,Ti=RegExp(ki.source),Bi={ms:1,s:1e3,m:6e4,h:36e5},Ri=['autoOrient','comment','enabled','inPoint','label','locked','name','outPoint','parent','shy','solo','startTime','stretch','adjustmentLayer','audioEnabled','blendingMode','collapseTransformation','effectsActive','environmentLayer','frameBlendingType','guideLayer','motionBlur','preserveTransparency','quality','threeDLayer','threeDPerChar','timeRemapEnabled','trackMatteType'],Oi=['comment','enabled','label','name','parentFolder','selected','duration','frameDuration','frameRate','height','pixelAspect','time','useProxy','width','bgColor','counters','displayStartFrame','displayStartTime','draft3d','dropFrame','frameBlending','hideShyLayers','motionBlur','motionBlurAdaptiveSampleLimit','motionBlurSamplesPerFrame','motionGraphicsTemplateControllerCount','motionGraphicsTemplateName','preserveNestedFrameRate','preserveNestedResolution','renderer','resolutionFactor','shutterAngle','shutterPhase','workAreaDuration','workAreaStart'],Mi={en_US:['None','Red','Yellow','Aqua','Pink','Lavender','Peach','Sea Foam','Blue','Green','Purple','Orange','Brown','Fuchsia','Cyan','Sandstone','Dark Green']},wi=function(){(this.cloneDepth=1/0),(this.syncExpression=!0),(this.syncCompExpression=!0),(this.syncLayerExpression=!0),(this.syncCompLayerExpression=!0),(this.clonePredicate=ou),(this.layerCallback=tn),(this.itemCallback=tn)},Gi=File.fs,$i=File.decode,Vi=Folder.encode,Ni=Folder.isEncodingAvailable,Ki=Folder.selectDialog,Ui=Folder.appData,_i=Folder.appPackage,Qi=Folder.commonFiles,qi=Folder.current,zi=Folder.desktop,Yi=Folder.fs,Wi=Folder.myDocuments,Ji=$.fileName,Xi=Folder.startup,Zi=Folder.system,Hi=Folder.temp,ea=Folder.trash,ra=Folder.userData,na=Te(Yu),ta=Te(Zu),oa=ge('keyValue'),ua=ge('layer'),ia=ge('property'),aa=j('containingComp'),ca=j('displayName'),fa=j('index'),pa=j('items'),la=j('layers'),sa=j('length'),ma=j('numKeys'),da=j('numLayers'),ya=j('numProperties'),ga=j('outputModules'),ha=j('selectedKeys'),va=j('source'),Fa=he(0,tn,sa,Ur),Pa=he(1,tn,sa,Ur),Da=he(1,la,sa,Ur),Sa=he(1,va,da,ua),xa=Fe(kn),La=he(0,kr,sa,Ur),Aa=he(1,pa,sa,Ur),Ca=Fe(Rn),Ea=he(1,tn,ma,oa),Ia=he(1,ga,sa,Ur),ba=he(1,pa,sa,Ur),ja=he(1,tn,ya,ia),ka=he(1,pa,sa,Ur),Ta=Pe(0,tn,sa,Ur),Ba=Pe(1,tn,sa,Ur),Ra=Pe(1,la,sa,Ur),Oa=Pe(1,va,da,ua),Ma=Pe(0,kr,sa,Ur),wa=Pe(1,pa,sa,Ur),Ga=Pe(1,tn,ma,oa),$a=Pe(1,ga,sa,Ur),Va=Pe(1,pa,sa,Ur),Na=Pe(1,tn,ya,ia),Ka=Pe(1,pa,sa,Ur),Ua=De(Fa),_a=De(Pa),Qa=De(Da),qa=De(Sa),za=De(xa),Ya=De(La),Wa=De(Aa),Ja=De(Ca),Xa=De(Ea),Za=De(Ia),Ha=De(ba),ec=De(Ze),rc=De(ja),nc=De(ka),tc=Se(Fa),oc=Se(Pa),uc=Se(Da),ic=Se(Sa),ac=Se(xa),cc=Se(La),fc=Se(Aa),pc=Se(Ca),lc=Se(Ea),sc=Se(Ia),mc=Se(ba),dc=Se(Ze),yc=Se(ja),gc=Se(ka),hc=ke(Fa),vc=ke(Pa),Fc=ke(Da),Pc=ke(Sa),Dc=ke(xa),Sc=ke(La),xc=ke(Aa),Lc=ke(Ca),Ac=ke(Ea),Cc=ke(Ia),Ec=ke(ba),Ic=ke(Ze),bc=ke(ja),jc=ke(ka),kc=ve(Fa,Rt(Fn),Fn),Tc=ve(Sa,au,Ln),Bc=ve(La,kn,Rn),Rc=ve(La,au,Rn),Oc=ve(Aa,au,On),Mc=ve(La,Rn,Rn),wc=ve(ja,au,_n),Gc=Qt([Y,Wr,jn,vt]),$c=Qt([Y,In]),Vc=Qt([Y]),Nc=Qt([Y,Wr]),Kc=ve(ja,Gc,_n),Uc=ve(ja,Vc,_n),_c=ve(ja,Nc,_n),Qc=De(kc),qc=De(Ye),zc=De(We),Yc=De(Tc),Wc=De(Je),Jc=De(Bc),Xc=De(Rc),Zc=De(Oc),Hc=De(Mc),ef=De(wc),rf=De(Uc),nf=Se(kc),tf=Se(Ye),of=Se(Tc),uf=Se(Bc),af=Se(Rc),cf=Se(Oc),ff=Se(Mc),pf=Se(wc),lf=Se(Uc),sf=ke(kc),mf=ke(Ye),df=ke(We),yf=ke(Tc),gf=ke(Je),hf=ke(Bc),vf=ke(Rc),Ff=ke(Oc),Pf=ke(Mc),Df=ke(wc),Sf=ke(Uc),xf=ke(_c),Lf=ke(Kc),Af=Oe(hc),Cf=Oe(vc),Ef=Oe(Fc),If=Oe(Pc),bf=Oe(Dc),jf=Oe(Sc),kf=Oe(xc),Tf=Oe(Lc),Bf=Oe(Ac),Rf=Oe(Cc),Of=Oe(Ec),Mf=Oe(Ic),wf=Oe(bc),Gf=Oe(jc),$f=Oe(sf),Vf=Oe(mf),Nf=Oe(df),Kf=Oe(yf),Uf=Oe(gf),_f=Oe(hf),Qf=Oe(vf),qf=Oe(Ff),zf=Oe(Pf),Yf=Oe(Df),Wf=be(Fa),Jf=be(Da),Xf=be(Sa),Zf=be(xa),Hf=be(La),ep=be(Aa),rp=be(Ca),np=be(Pa),tp=be(Ea),op=be(Ia),up=be(ba),ip=be(Ze),ap=be(ja),cp=be(ka),fp=be(kc),pp=be(Ye),lp=be(We),sp=be(Tc),mp=be(Je),dp=be(Bc),yp=be(Rc),gp=be(Oc),hp=be(Mc),vp=be(wc),Fp=Be(Fa),Pp=Be(Pa),Dp=Be(Da),Sp=Be(Sa),xp=Be(xa),Lp=Be(La),Ap=Be(Aa),Cp=Be(Ca),Ep=Be(Ea),Ip=Be(Ia),bp=Be(ba),jp=Be(Ze),kp=Be(ja),Tp=Be(ka),Bp=Be(kc),Rp=Be(Ye),Op=Be(We),Mp=Be(Tc),wp=Be(Je),Gp=Be(Bc),$p=Be(Rc),Vp=Be(Oc),Np=Be(Mc),Kp=Be(wc),Up=Ie(Ur),_p=Ie(ia),Qp=Ae(['constructor','name']),qp=Ae(['source','mainSource']),zp=Ae(['mainSource','missingFootagePath']),Yp=Ee(['ADBE Effect Parade']),Wp=Ee(['ADBE Layer Styles']),Jp=Ee(['ADBE Root Vectors Group']),Xp=Ee(['ADBE Transform Group']),Zp=Ee(['ADBE Transform Group','ADBE Anchor Point']),Hp=Ee(['ADBE Audio Group','ADBE Audio Levels']),el=Ee(['ADBE Transform Group','ADBE Orientation']),rl=Ee(['ADBE Transform Group','ADBE Position']),nl=Ee(['ADBE Transform Group','ADBE Rotate X']),tl=Ee(['ADBE Transform Group','ADBE Rotate Y']),ol=Ee(['ADBE Transform Group','ADBE Rotate Z']),ul=Ee(['ADBE Transform Group','ADBE Scale']),il=nl,al=xe(['project','activeItem']),cl=xe(['effects']),fl=xe(['project']),pl=xe(['project','file']),ll=xe(['project','file','parent']),sl=xe(['project','items']),ml=xe(['project','renderQueue']),dl=xe(['project','rootFolder']),yl=xe(['project','selection']),gl=xe(['project','activeItem','selectedLayers']),hl=xe(['project','activeItem','selectedProperties']),vl=xe(['settings']),Fl=xe(['activeViewer','views','0','options']),Pl=Le(tn),Dl=Le(gl),Sl=Le(yl),xl=Le(hl),Ll=Ce(tn),Al=Ce(yl),Cl=Ce(gl),El=Ce(hl),Il=je('AVLayer'),bl=je('CameraLayer'),jl=je('LightLayer'),kl=je('ShapeLayer'),Tl=je('TextLayer'),Bl=de(F,['name','width','height','pixelAspect','duration','frameRate'],['name','width','height','pixelAspect','duration','frameRate']),Rl=ye(D,['item','duration'],['item']),Ol=ye(h,['size'],['size']),Ml=ye(v,['name','centerPoint'],['name','centerPoint']),wl=ye(S,['name','centerPoint'],['name','centerPoint']),Gl=ye(x,['duration'],[]),$l=ye(L,[],[]),Vl=ye(A,['color','name','width','height','pixelAspect','duration'],['color','name','width','height','pixelAspect']),Nl=ye(C,['sourceText'],[]);return((Mu.decode=$i),(Mu.encode=Vi),(Mu.fileSystem=Gi),(Mu.isEncodingAvailable=Ni),(Mu.pathAppData=Ui),(Mu.pathAppPackage=_i),(Mu.pathCommonFiles=Qi),(Mu.pathCurrent=qi),(Mu.pathDesktop=zi),(Mu.pathFs=Yi),(Mu.pathMyDocuments=Wi),(Mu.pathScript=Ji),(Mu.pathStartup=Xi),(Mu.pathSystem=Zi),(Mu.pathTemp=Hi),(Mu.pathTrash=ea),(Mu.pathUserData=ra),(Mu.selectDialog=Ki),(Mu.version=wu),(Mu.activeProjectPanel=e),(Mu.addBoxText=Ol),(Mu.addCamera=Ml),(Mu.addComp=Bl),(Mu.addCompMarker=r),(Mu.addEffect=n),(Mu.addFolderItem=t),(Mu.addLayer=Rl),(Mu.addLayerMarker=o),(Mu.addLight=wl),(Mu.addNull=Gl),(Mu.addProperty=u),(Mu.addShape=$l),(Mu.addSolid=Vl),(Mu.addText=Nl),(Mu.after=i),(Mu.and=a),(Mu.assign=m),(Mu.assignIn=d),(Mu.at=g),(Mu.baseAddBoxText=h),(Mu.baseAddCamera=v),(Mu.baseAddComp=F),(Mu.baseAddEffect=P),(Mu.baseAddLayer=D),(Mu.baseAddLight=S),(Mu.baseAddNull=x),(Mu.baseAddShape=L),(Mu.baseAddSolid=A),(Mu.baseAddText=C),(Mu.baseGetTime=b),(Mu.before=q),(Mu.canAddEffect=z),(Mu.canSetExpression=Y),(Mu.chunk=H),(Mu.clamp=ee),(Mu.clone=ne),(Mu.cloneCompItemDeep=te),(Mu.cloneCompLayerDeep=oe),(Mu.cloneDeep=ue),(Mu.collectItemsBy=ie),(Mu.collectMissingFootage=ae),(Mu.compact=ce),(Mu.compose=fe),(Mu.constant=pe),(Mu.contains=le),(Mu.copyFile=me),(Mu.createPath=Re),(Mu.curry=Me),(Mu.decodePrefs=Ge),(Mu.defaults=Ve),(Mu.defaultTo=$e),(Mu.delay=Ne),(Mu.deleteFile=Ke),(Mu.deleteFolder=Ue),(Mu.deselectAllItems=_e),(Mu.deselectItem=Qe),(Mu.difference=qe),(Mu.duplicateItem=ze),(Mu.each=Fa),(Mu.eachActiveExpressionPropertiesDeep=Kc),(Mu.eachCollection=Pa),(Mu.eachCollectionRight=Ba),(Mu.eachCompItem=Da),(Mu.eachCompItemDeep=Ye),(Mu.eachCompItemDeepOnce=We),(Mu.eachCompItemRight=Ra),(Mu.eachCompLayer=Sa),(Mu.eachCompLayerDeep=Tc),(Mu.eachCompLayerDeepOnce=Je),(Mu.eachCompLayerRight=Oa),(Mu.eachDeep=kc),(Mu.eachExpressionPropertiesDeep=Uc),(Mu.eachFileSet=xa),(Mu.eachFileSetDeep=Bc),(Mu.eachFolder=La),(Mu.eachFolderDeep=Rc),(Mu.eachFolderItem=Aa),(Mu.eachFolderItemDeep=Oc),(Mu.eachFolderItemRight=wa),(Mu.eachFolderRight=Ma),(Mu.eachFolderSet=Ca),(Mu.eachFolderSetDeep=Mc),(Mu.eachKeyframes=Ea),(Mu.eachKeyframesRight=Ga),(Mu.eachLayerEffects=Xe),(Mu.eachModifiedExpressionPropertiesDeep=_c),(Mu.eachOutputModules=Ia),(Mu.eachOutputModulesRight=$a),(Mu.eachProjectItems=ba),(Mu.eachProjectItemsRight=Va),(Mu.eachProjectLayers=Ze),(Mu.eachPropertyGroup=ja),(Mu.eachPropertyGroupDeep=wc),(Mu.eachPropertyGroupRight=Na),(Mu.eachRenderQueue=ka),(Mu.eachRenderQueueRight=Ka),(Mu.eachRight=Ta),(Mu.escape=er),(Mu.escapeRegExp=rr),(Mu.escapeSuffix=nr),(Mu.evalFile=tr),(Mu.every=or),(Mu.executeCommand=ur),(Mu.executeFile=ir),(Mu.extractFileNameFromPath=ar),(Mu.extractFileSuffix=cr),(Mu.fileToBinary=pr),(Mu.filter=Ua),(Mu.filterCollection=_a),(Mu.filterCompItem=Qa),(Mu.filterCompItemDeep=qc),(Mu.filterCompItemDeepOnce=zc),(Mu.filterCompLayer=qa),(Mu.filterCompLayerDeep=Yc),(Mu.filterCompLayerDeepOnce=Wc),(Mu.filterDeep=Qc),(Mu.filterExpressionPropertiesDeep=rf),(Mu.filterFileSet=za),(Mu.filterFileSetDeep=Jc),(Mu.filterFolder=Ya),(Mu.filterFolderDeep=Xc),(Mu.filterFolderItem=Wa),(Mu.filterFolderItemDeep=Zc),(Mu.filterFolderSet=Ja),(Mu.filterFolderSetDeep=Hc),(Mu.filterKeyframes=Xa),(Mu.filterOutputModules=Za),(Mu.filterProjectItems=Ha),(Mu.filterProjectLayers=ec),(Mu.filterPropertyGroup=rc),(Mu.filterPropertyGroupDeep=ef),(Mu.filterRenderQueue=nc),(Mu.find=tc),(Mu.findCollection=oc),(Mu.findCompItem=uc),(Mu.findCompItemDeep=tf),(Mu.findCompLayer=ic),(Mu.findCompLayerDeep=of),(Mu.findDeep=nf),(Mu.findExpressionPropertiesDeep=lf),(Mu.findFileSet=ac),(Mu.findFileSetDeep=uf),(Mu.findFolder=cc),(Mu.findFolderDeep=af),(Mu.findFolderItem=fc),(Mu.findFolderItemDeep=cf),(Mu.findFolderSet=pc),(Mu.findFolderSetDeep=ff),(Mu.findIndex=lr),(Mu.findKey=sr),(Mu.findKeyframes=lc),(Mu.findMenuCommandId=mr),(Mu.findOutputModules=sc),(Mu.findProjectItems=mc),(Mu.findProjectLayers=dc),(Mu.findPropertyGroup=yc),(Mu.findPropertyGroupDeep=pf),(Mu.findRenderQueue=gc),(Mu.first=Pl),(Mu.flatMap=dr),(Mu.flatMapDeep=yr),(Mu.flatMapDepth=gr),(Mu.flatten=hr),(Mu.flattenDeep=vr),(Mu.flattenDepth=Fr),(Mu.forIn=Pr),(Mu.forOwn=Dr),(Mu.fromPairs=Lr),(Mu.functions=Ar),(Mu.functionsIn=Cr),(Mu.get=Up),(Mu.getActiveComp=Er),(Mu.getActiveItem=al),(Mu.getAllSelectedKeyFrames=Ir),(Mu.getAnchorPointProperty=Zp),(Mu.getAudioLevelsProperty=Hp),(Mu.getConstructorName=Qp),(Mu.getEffectProperty=Yp),(Mu.getEffects=cl),(Mu.getFile=br),(Mu.getFirstSelectedItem=Sl),(Mu.getFirstSelectedLayer=Dl),(Mu.getFirstSelectedProperty=xl),(Mu.getFolder=jr),(Mu.getFolderFiles=kr),(Mu.getFolderPath=Tr),(Mu.getLabelColorRef=Br),(Mu.getLastLayer=Rr),(Mu.getLastSelectedItem=Al),(Mu.getLastSelectedLayer=Cl),(Mu.getLastSelectedProperty=El),(Mu.getLayerStylesProperty=Wp),(Mu.getLayerType=Or),(Mu.getMainSource=qp),(Mu.getMissingFootagePath=zp),(Mu.getOrientationProperty=el),(Mu.getPlainFileName=Mr),(Mu.getPositionProperty=rl),(Mu.getProject=fl),(Mu.getProjectFile=pl),(Mu.getProjectFolder=ll),(Mu.getProjectItems=sl),(Mu.getProperty=_p),(Mu.getPropertyLayer=Gr),(Mu.getPropertyNode=$r),(Mu.getPropertyPath=Vr),(Mu.getRenderQueue=ml),(Mu.getRootFolderItem=dl),(Mu.getRootVectorsProperty=Jp),(Mu.getRotateProperty=il),(Mu.getRotateXProperty=nl),(Mu.getRotateYProperty=tl),(Mu.getRotateZProperty=ol),(Mu.getScaleProperty=ul),(Mu.getSelectedItems=yl),(Mu.getSelectedKeyframesValues=Nr),(Mu.getSelectedLayers=gl),(Mu.getSelectedProperties=hl),(Mu.getSettings=vl),(Mu.getTopLayer=Kr),(Mu.getTransformProperty=Xp),(Mu.getViewOptions=Fl),(Mu.groupBy=Wf),(Mu.groupCompItemBy=Jf),(Mu.groupCompItemDeepBy=pp),(Mu.groupCompItemDeepOnceBy=lp),(Mu.groupCompLayerBy=Xf),(Mu.groupCompLayerDeepBy=sp),(Mu.groupCompLayerDeepOnceBy=mp),(Mu.groupDeepBy=fp),(Mu.groupFileSetBy=Zf),(Mu.groupFileSetDeepBy=dp),(Mu.groupFolderBy=Hf),(Mu.groupFolderDeepBy=yp),(Mu.groupFolderItemBy=ep),(Mu.groupFolderItemDeepBy=gp),(Mu.groupFolderSetBy=rp),(Mu.groupFolderSetDeepBy=hp),(Mu.groupItemsBy=np),(Mu.groupKeyframesBy=tp),(Mu.groupOutputModulesBy=op),(Mu.groupProjectItemsBy=up),(Mu.groupProjectLayersBy=ip),(Mu.groupPropertyGroupBy=ap),(Mu.groupPropertyGroupDeepBy=vp),(Mu.groupRenderQueueBy=cp),(Mu.has=_r),(Mu.hasActiveExpression=Qr),(Mu.hasEffect=qr),(Mu.hasErrorExpression=zr),(Mu.hasExpression=Yr),(Mu.hasExpressionContent=Wr),(Mu.hasIn=Jr),(Mu.hasKeyframes=Xr),(Mu.hasModifiedExpression=Zr),(Mu.hasPropertyMax=Hr),(Mu.hasPropertyMin=en),(Mu.hasPropertyValue=rn),(Mu.identity=tn),(Mu.importAsComp=on),(Mu.importAsCroppedLayers=un),(Mu.importAsFootage=an),(Mu.importAsProject=cn),(Mu.importFile=fn),(Mu.indexOf=ln),(Mu.initial=sn),(Mu.inRange=pn),(Mu.intersection=mn),(Mu.invert=dn),(Mu.invoke=yn),(Mu.isActiveExpressionProperty=Gc),(Mu.isAdjustmentLayer=gn),(Mu.isApp=hn),(Mu.isArguments=vn),(Mu.isArray=Fn),(Mu.isArrayLike=Pn),(Mu.isArrayLikeObject=Dn),(Mu.isAVLayer=Il),(Mu.isBoolean=Sn),(Mu.isCameraLayer=bl),(Mu.isCompItem=xn),(Mu.isCompLayer=Ln),(Mu.isDate=An),(Mu.isEmpty=Cn),(Mu.isEnvironmentLayer=En),(Mu.isErrorExpression=In),(Mu.isErrorExpressionProperty=$c),(Mu.isExpressionEnabled=jn),(Mu.isExpressionProperty=Vc),(Mu.isFile=kn),(Mu.isFileExists=Tn),(Mu.isFolder=Rn),(Mu.isFolderItem=On),(Mu.isFootageItem=Mn),(Mu.isFootageLayer=wn),(Mu.isFunction=Gn),(Mu.isGuideLayer=$n),(Mu.isImportedItem=Vn),(Mu.isImportedLayer=Nn),(Mu.isItem=Un),(Mu.isIterablePropertyGroup=_n),(Mu.isLength=qn),(Mu.isLightLayer=jl),(Mu.isMacOs=zn),(Mu.isMaskPropertyGroup=Yn),(Mu.isMissingFootage=Wn),(Mu.isModifiedExpressionProperty=Nc),(Mu.isNaN=Jn),(Mu.isNil=Xn),(Mu.isNull=Zn),(Mu.isNullLayer=Hn),(Mu.isNumber=et),(Mu.isObject=rt),(Mu.isObjectLike=nt),(Mu.isPlaceholder=tt),(Mu.isPlaceholderLayer=ot),(Mu.isPlainObject=ut),(Mu.isProperty=it),(Mu.isPropertyGroup=at),(Mu.isRegExp=ct),(Mu.isScriptFile=ft),(Mu.isShapeLayer=kl),(Mu.isSinglePropertyGroup=pt),(Mu.isSolidItem=lt),(Mu.isSolidLayer=st),(Mu.isSourceFileMissing=mt),(Mu.isString=dt),(Mu.isTextLayer=Tl),(Mu.isThreeDLayer=yt),(Mu.isTimeRemapLayer=gt),(Mu.isUndefined=ht),(Mu.isValidExpression=vt),(Mu.isWindowsOs=Ft),(Mu.isXml=Pt),(Mu.join=Dt),(Mu.keepProjectPanel=St),(Mu.keys=xt),(Mu.keysIn=Lt),(Mu.last=Ll),(Mu.locklessLayer=Et),(Mu.log=It),(Mu.logJson=bt),(Mu.logTime=jt),(Mu.map=hc),(Mu.mapActiveExpressionPropertiesDeep=Lf),(Mu.mapCollection=vc),(Mu.mapCompItem=Fc),(Mu.mapCompItemDeep=mf),(Mu.mapCompItemDeepOnce=df),(Mu.mapCompLayer=Pc),(Mu.mapCompLayerDeep=yf),(Mu.mapCompLayerDeepOnce=gf),(Mu.mapDeep=sf),(Mu.mapExpressionPropertiesDeep=Sf),(Mu.mapFileSet=Dc),(Mu.mapFileSetDeep=hf),(Mu.mapFolder=Sc),(Mu.mapFolderDeep=vf),(Mu.mapFolderItem=xc),(Mu.mapFolderItemDeep=Ff),(Mu.mapFolderSet=Lc),(Mu.mapFolderSetDeep=Pf),(Mu.mapKeyframes=Ac),(Mu.mapKeys=kt),(Mu.mapModifiedExpressionPropertiesDeep=xf),(Mu.mapOutputModules=Cc),(Mu.mapProjectItems=Ec),(Mu.mapProjectLayers=Ic),(Mu.mapPropertyGroup=bc),(Mu.mapPropertyGroupDeep=Df),(Mu.mapRenderQueue=jc),(Mu.mapValues=Tt),(Mu.mathFloor=na),(Mu.mathRound=ta),(Mu.moveFile=Bt),(Mu.negate=Rt),(Mu.newFile=Ot),(Mu.newFolder=Mt),(Mu.noop=wt),(Mu.objectToString=Vt),(Mu.omit=Nt),(Mu.once=Kt),(Mu.or=Ut),(Mu.over=_t),(Mu.overEvery=Qt),(Mu.overSome=qt),(Mu.padZero=zt),(Mu.parseJson=Wt),(Mu.parseJsonFile=Jt),(Mu.parsePrefs=Xt),(Mu.partition=Fp),(Mu.partitionCollection=Pp),(Mu.partitionCompItem=Dp),(Mu.partitionCompItemDeep=Rp),(Mu.partitionCompItemDeepOnce=Op),(Mu.partitionCompLayer=Sp),(Mu.partitionCompLayerDeep=Mp),(Mu.partitionCompLayerDeepOnce=wp),(Mu.partitionDeep=Bp),(Mu.partitionFileSet=xp),(Mu.partitionFileSetDeep=Gp),(Mu.partitionFolder=Lp),(Mu.partitionFolderDeep=$p),(Mu.partitionFolderItem=Ap),(Mu.partitionFolderItemDeep=Vp),(Mu.partitionFolderSet=Cp),(Mu.partitionFolderSetDeep=Np),(Mu.partitionKeyframes=Ep),(Mu.partitionOutputModules=Ip),(Mu.partitionPrefsPairs=Zt),(Mu.partitionProjectItems=bp),(Mu.partitionProjectLayers=jp),(Mu.partitionPropertyGroup=kp),(Mu.partitionPropertyGroupDeep=Kp),(Mu.partitionRenderQueue=Tp),(Mu.pick=Ht),(Mu.pickBy=eo),(Mu.pluck=Af),(Mu.pluckCollection=Cf),(Mu.pluckCompItem=Ef),(Mu.pluckCompItemDeep=Vf),(Mu.pluckCompItemDeepOnce=Nf),(Mu.pluckCompLayer=If),(Mu.pluckCompLayerDeep=Kf),(Mu.pluckCompLayerDeepOnce=Uf),(Mu.pluckDeep=$f),(Mu.pluckFileSet=bf),(Mu.pluckFileSetDeep=_f),(Mu.pluckFolder=jf),(Mu.pluckFolderDeep=Qf),(Mu.pluckFolderItem=kf),(Mu.pluckFolderItemDeep=qf),(Mu.pluckFolderSet=Tf),(Mu.pluckFolderSetDeep=zf),(Mu.pluckKeyframes=Bf),(Mu.pluckOutputModules=Rf),(Mu.pluckProjectItems=Of),(Mu.pluckProjectLayers=Mf),(Mu.pluckPropertyGroup=wf),(Mu.pluckPropertyGroupDeep=Yf),(Mu.pluckRenderQueue=Gf),(Mu.precompose=ro),(Mu.precomposeEvery=no),(Mu.precomposeSelectedLayers=to),(Mu.precomposeSelectedLayersEvery=oo),(Mu.precomposeWithLayers=uo),(Mu.print=io),(Mu.property=ao),(Mu.propertyOf=co),(Mu.random=po),(Mu.range=lo),(Mu.rangeRight=so),(Mu.readFile=mo),(Mu.reduce=yo),(Mu.removeAllEffects=go),(Mu.removeAllExpressions=ho),(Mu.removeAllKeyFrames=vo),(Mu.removeAllSelectedKeyFrames=Fo),(Mu.removeExpression=Po),(Mu.removeItem=Do),(Mu.removeKeyframes=So),(Mu.removeLayerKeyFrames=xo),(Mu.removeProperty=Lo),(Mu.removeSelectedKeyFrames=Ao),(Mu.repeat=Co),(Mu.replaceExpressionCompRef=Eo),(Mu.replaceExpressionLayerRef=Io),(Mu.replaceLayerSourceDeep=bo),(Mu.revealFile=jo),(Mu.revealFolder=ko),(Mu.revealPreferences=To),(Mu.sample=Bo),(Mu.sampleSize=Ro),(Mu.saveFrameToPng=Oo),(Mu.savePngSequence=Mo),(Mu.secondToFrame=wo),(Mu.set=Go),(Mu.setExpression=$o),(Mu.setPropertiesValue=Vo),(Mu.setProperty=No),(Mu.setPropertyMax=Ko),(Mu.setPropertyMin=Uo),(Mu.setUndoGroup=_o),(Mu.setViewRatio=Qo),(Mu.setWith=qo),(Mu.shuffle=zo),(Mu.size=Wo),(Mu.slice=Jo),(Mu.some=Xo),(Mu.stringify=nu),(Mu.stubArray=tu),(Mu.stubFalse=ou),(Mu.stubObject=uu),(Mu.stubString=iu),(Mu.stubTrue=au),(Mu.subtract=cu),(Mu.templateString=fu),(Mu.times=pu),(Mu.toPairs=su),(Mu.toPairsIn=mu),(Mu.toString=du),(Mu.unary=hu),(Mu.undo=vu),(Mu.unescape=Fu),(Mu.union=Pu),(Mu.uniq=Du),(Mu.uniqueId=Su),(Mu.unset=xu),(Mu.unzip=Lu),(Mu.values=Cu),(Mu.valuesIn=Eu),(Mu.without=Iu),(Mu.writeFile=bu),(Mu.writeJson=ju),(Mu.xor=ku),(Mu.zip=Tu),(Mu.zipObject=Bu),(Mu.zipObjectDeep=Ru),Mu)}.call(this);

    var SCRIPT_NAME = 'Footage Helpers',
        SCRIPT_VERSION = '1.0.3',
        SCRIPT_DATE = '2022/12/13',
        SCRIPT_AUTHOR = 'Raymond Yan';

    var elements = Tree.parse({
        group: {
            style: { orientation: 'column', alignChildren: ['left', 'top'] },
            panel1: { param: [, , 'Alpha'], style: { preferredSize: [300, -1], margins: [10, 15, 10, 10], orientation: 'column', alignChildren: ['left', ''] }, group1: { style: { margins: 0, preferredSize: [100, -1], orientation: 'row', alignChildren: ['left', 'top'] }, group: { param: ['alphaMode'], style: { orientation: 'column', alignChildren: ['left', 'top'] }, radiobutton1: ['alphaModeIgnore', , '忽略'], radiobutton2: ['alphaModeStraight', , '直接 - 无遮罩'], radiobutton3: { param: ['alphaModePremultiplied', , '预乘 - 有彩色遮罩'], style: { value: true } } }, checkbox: { param: ['invertAlpha', , '反转 Alpha'], style: { alignment: ['right', 'top'] } } }, group2: { style: { margins: [1, 5, 5, 5], alignChildren: ['left', ''] }, checkbox1: { param: ['switchAlpha', [0, 10, 123, 25], '修改 Alpha 模式'], style: { value: false } }, checkbox2: { param: ['switchInvert', [0, 10, 110, 25], '修改 Alpha 反转'], style: { value: false } } } },
            panel2: { param: [, , '帧速率'], style: { preferredSize: [300, -1], margins: [11, 15, 10, 10], spacing: 2, orientation: 'row', alignChildren: ['left', ''] }, checkbox: { param: ['switchFrameRate', [0, 10, 15, 25]], style: { value: true } }, statictext: [, [0, 0, 100, 25], '匹配帧速率'], edittext: { param: ['conformFrameRate', [0, 0, 100, 25], '30'], style: { helpTip: '取值范围：[0, 999]\n0值恢复为原始帧率' } } },
            panel3: { param: [, , '场和 Pulldown'], style: { preferredSize: [300, -1], margins: [11, 15, 10, 10], spacing: 2, orientation: 'column', alignChildren: ['left', ''] }, group1: { style: { spacing: 2 }, checkbox: { param: ['switchField', [0, 10, 15, 25]], style: { value: false } }, statictext: [, [0, 0, 100, 25], '分离场'], dropdownlist: { param: ['fieldSeparationType', [0, 0, 150, 25], ['关', '高场优先', '低场优先']], style: { alignment: ['fill', ''], selection: 0 } } }, group2: { style: { spacing: 2 }, checkbox: { param: ['switchPulldown', [0, 10, 15, 25]], style: { value: false } }, statictext: [, [0, 0, 100, 25], '移除 Pulldown'], dropdownlist: { param: ['removePulldown', [0, 0, 150, 25], ['关', 'WSSWW', 'SSWWW', 'SWWWS', 'WWWSS', 'WWSSW', 'WWWSW - 24p 高级', 'WWSWW - 24p 高级', 'WSWWW - 24p 高级', 'SWWWW - 24p 高级', 'WWWWS - 24p 高级']], style: { alignment: ['fill', ''], enabled: false, selection: 0 } } } },
            panel4: { param: [, , '其他选项'], style: { preferredSize: [300, -1], margins: [11, 15, 10, 10], spacing: 2, orientation: 'column', alignChildren: ['left', ''] }, group1: { style: { spacing: 2 }, checkbox: { param: ['switchAspect', [0, 10, 15, 25]], style: { value: false } }, statictext: [, [0, 0, 100, 25], '像素长宽比'], dropdownlist: { param: ['pixelAspect', [0, 0, 150, 25], ['方形像素', 'D1/DV NTSC (0.91)', 'D1/DV NTSC 宽银幕 (1.21)', 'D1/DV PAL (1.09)', 'D1/DV PAL 宽银幕 (1.46)', 'HDV 1080/DVCPRO HD 720 (1.33)', 'DVCPRO HD 1080 (1.5)', '变形 2:1 (2)']], style: { alignment: ['fill', ''], selection: 0 } } }, group2: { style: { spacing: 2 }, checkbox: { param: ['switchLoop', [0, 10, 15, 25]], style: { value: false } }, statictext: [, [0, 0, 100, 25], '循环'], edittext: { param: ['loop', [0, 0, 100, 25], '1'], style: { helpTip: '取值范围：[1, 9999]' } } } },
        },
        button: { param: ['run', [0, 0, 300, 30]], style: { text: '修改', onClick: runScript, helpTip: SCRIPT_NAME + ' ' + SCRIPT_VERSION + ' | ' + SCRIPT_DATE + ' | ' + SCRIPT_AUTHOR } },
    });

    var ALPHA_MODE_REFERENCES = [5413, 5412, 5414],
        FIELD_SEPARATION_REFERENCES = [5613, 5612, 5614],
        PIXEL_ASPECT_REFERENCES = [1, 0.91, 1.21, 1.09, 1.46, 1.33, 1.5, 2],
        REMOVE_PULLDOWN_REFERENCES = [5813, 5812, 5814, 5815, 5816, 5817, 5818, 5819, 5820, 5821, 5822];

    var eleAlphaMode = elements.getElementById('alphaMode'),
        eleInvertAlpha = elements.getElementById('invertAlpha'),
        eleConformFrameRate = elements.getElementById('conformFrameRate'),
        eleFieldSeparationType = elements.getElementById('fieldSeparationType'),
        eleRemovePulldown = elements.getElementById('removePulldown'),
        elePixelAspect = elements.getElementById('pixelAspect'),
        eleLoop = elements.getElementById('loop');

    var eleSwitchAlpha = elements.getElementById('switchAlpha'),
        eleSwitchInvert = elements.getElementById('switchInvert'),
        eleSwitchFrameRate = elements.getElementById('switchFrameRate'),
        eleSwitchField = elements.getElementById('switchField'),
        eleSwitchPulldown = elements.getElementById('switchPulldown'),
        eleSwitchAspect = elements.getElementById('switchAspect'),
        eleSwitchLoop = elements.getElementById('switchLoop');

    elements.defaultElement = elements.getElementById('run');

    var VALID_CACHE = { conformFrameRate: eleConformFrameRate.text, loop: eleLoop.text };

    eleFieldSeparationType.onChange = function () {
        if (_.get(this, ['selection', 'index']) === 0) {
            eleRemovePulldown.selection = 0;
            eleRemovePulldown.enabled = false;
        } else {
            eleRemovePulldown.enabled = true;
        }
    };

    eleConformFrameRate.onChange = function () {
        var value = Number(this.text);
        if (value < 0 || value > 999) {
            this.text = VALID_CACHE.conformFrameRate;
        } else {
            VALID_CACHE.conformFrameRate = value;
        }
    };

    eleLoop.onChange = function () {
        var value = Number(this.text);
        if (value < 1 || value > 9999) {
            this.text = VALID_CACHE.loop;
        } else {
            VALID_CACHE.loop = this.text = _.mathRound(value);
        }
    };

    function runScript() {
        var items = _.getSelectedItems();
        if (_.isEmpty(items)) return;

        var footageItems = _.filter(items, _.isFootageItem);
        if (_.isEmpty(footageItems)) return;

        var enableAlpha = eleSwitchAlpha.value,
            enableInvert = eleSwitchInvert.value,
            enableFrameRate = eleSwitchFrameRate.value,
            enableField = eleSwitchField.value,
            enablePulldown = eleSwitchPulldown.value,
            enableAspect = eleSwitchAspect.value,
            enableLoop = eleSwitchLoop.value;

        var newAlphaMode = _.findIndex(eleAlphaMode.getElementsByType('radiobutton'), _.property('value')),
            newConformFrameRate = Number(eleConformFrameRate.text),
            newLoopValue = Number(eleLoop.text);

        var newFieldSeparationType = eleFieldSeparationType.selection.index,
            newInvertAlphaValue = eleInvertAlpha.value,
            newPixelAspect = elePixelAspect.selection.index,
            newRemovePulldownValue = eleRemovePulldown.selection.index;

        _.setUndoGroup('Set Footage Options', function () {
            _.each(footageItems, function (item) {
                var mainSource = item.mainSource;

                enableAspect && (item.pixelAspect = mapPixelAspect(newPixelAspect));

                if (!mainSource.isStill) {
                    enableFrameRate && setConformFrameRate(mainSource, newConformFrameRate);
                    enableField && setFieldSeparationType(mainSource, mapFieldSeparation(newFieldSeparationType));
                    enablePulldown && setRemovePulldown(mainSource, mapRemovePulldown(newRemovePulldownValue));
                    enableLoop && (mainSource.loop = newLoopValue);
                }

                if (mainSource.hasAlpha) {
                    enableAlpha && (mainSource.alphaMode = mapAlphaMode(newAlphaMode));
                }
                enableInvert && (mainSource.invertAlpha = newInvertAlphaValue);
            });
        });
    }

    function mapAlphaMode(index) {
        return ALPHA_MODE_REFERENCES[index];
    }

    function mapFieldSeparation(index) {
        return FIELD_SEPARATION_REFERENCES[index];
    }

    function mapPixelAspect(index) {
        return PIXEL_ASPECT_REFERENCES[index];
    }

    function mapRemovePulldown(index) {
        return REMOVE_PULLDOWN_REFERENCES[index];
    }

    function setConformFrameRate(mainSource, newValue) {
        if (mainSource.removePulldown !== 5813 && newValue === 0) return;
        mainSource.conformFrameRate = newValue;
    }

    function setFieldSeparationType(mainSource, newValue) {
        if (mainSource.removePulldown !== 5813 && newValue === 5613) return;
        mainSource.fieldSeparationType = newValue;
    }

    function setRemovePulldown(mainSource, newValue) {
        if (mainSource.fieldSeparationType === 5613 && newValue !== 5813) return;
        mainSource.removePulldown = newValue;
    }
})(this);
